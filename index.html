<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Freedom | Free Speech Is Power</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            void: '#03040A',
            eclipse: '#111827',
            blood: '#F43F5E',
            truth: '#E2E8F0',
            neon: '#7DD3FC',
            aurora: '#A78BFA'
          },
          boxShadow: {
            glow: '0 0 40px rgba(125, 211, 252, 0.2)',
            blood: '0 0 35px rgba(244, 63, 94, 0.28)'
          },
          fontFamily: {
            serif: ['"Noto Serif SC"', '"Songti SC"', 'serif'],
            mono: ['"JetBrains Mono"', 'Consolas', 'monospace']
          }
        }
      }
    };
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    :root {
      --panel: rgba(10, 14, 26, 0.65);
      --line: rgba(148, 163, 184, 0.24);
    }

    body {
      margin: 0;
      background: radial-gradient(circle at 15% 15%, #111827 0%, #04050d 45%, #020308 100%);
      color: #e2e8f0;
      overflow-x: hidden;
      font-family: 'Noto Serif SC', serif;
    }

    #webgl-container {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }

    .noise::before {
      content: '';
      position: fixed;
      inset: 0;
      z-index: 1;
      background-image: radial-gradient(rgba(226, 232, 240, 0.07) 0.5px, transparent 0.5px);
      background-size: 3px 3px;
      opacity: 0.15;
      pointer-events: none;
      mix-blend-mode: soft-light;
    }

    .content-mask {
      background: linear-gradient(90deg, rgba(2, 6, 18, 0.96) 0%, rgba(2, 6, 18, 0.85) 52%, rgba(2, 6, 18, 0.18) 100%);
      backdrop-filter: blur(2px);
    }

    .glass {
      background: var(--panel);
      border: 1px solid var(--line);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03), 0 20px 60px rgba(2, 6, 23, 0.5);
      backdrop-filter: blur(10px);
    }

    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.9s ease, transform 0.9s ease;
    }

    .reveal.in {
      opacity: 1;
      transform: translateY(0);
    }

    .redacted {
      color: transparent;
      background: linear-gradient(90deg, rgba(226, 232, 240, 0.95), rgba(148, 163, 184, 0.85));
      border-radius: 3px;
      padding: 0 0.35rem;
      position: relative;
      cursor: pointer;
      transition: all 0.7s ease;
    }

    .redacted::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, transparent 20%, rgba(244, 63, 94, 0.25), transparent 80%);
      transform: translateX(-120%);
      animation: decodeSweep 2.8s infinite;
    }

    .redacted.revealed {
      color: #f43f5e;
      background: transparent;
      text-shadow: 0 0 14px rgba(244, 63, 94, 0.55);
    }

    .redacted.revealed::after { display: none; }

    @keyframes decodeSweep {
      0% { transform: translateX(-130%); }
      55%, 100% { transform: translateX(130%); }
    }

    .protocol-line {
      border-left: 2px solid rgba(125, 211, 252, 0.4);
    }

    .sigil {
      filter: drop-shadow(0 0 12px rgba(167, 139, 250, 0.28));
      animation: sigilFloat 4s ease-in-out infinite;
    }

    @keyframes sigilFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    #scroll-progress { transform-origin: top; }

    @media (max-width: 768px) {
      .content-mask {
        background: linear-gradient(180deg, rgba(2, 6, 18, 0.86) 0%, rgba(2, 6, 18, 0.97) 65%, rgba(2, 6, 18, 0.97) 100%);
      }
    }
  </style>
</head>
<body class="noise antialiased selection:bg-blood selection:text-white">
  <div id="webgl-container"></div>

  <div class="fixed left-0 top-0 z-50 h-full w-1 bg-slate-950/80">
    <div id="scroll-progress" class="h-full w-full scale-y-0 bg-gradient-to-b from-neon via-aurora to-blood"></div>
  </div>

  <button id="lang-toggle" class="fixed right-5 top-5 z-50 rounded-full border border-slate-700 bg-slate-950/70 px-4 py-2 font-mono text-xs text-slate-300 transition hover:border-neon hover:text-white md:text-sm">
    [ EN ] / ZH
  </button>

  <div class="relative z-10 min-h-screen w-full content-mask">
    <main class="mx-auto w-full max-w-7xl px-6 pb-24 pt-28 md:px-12">
      <section class="reveal mb-14 grid gap-8 lg:grid-cols-[1.1fr_0.9fr]">
        <div>
          <div data-i18n="doc_label" class="mb-4 font-mono text-xs uppercase tracking-[0.3em] text-blood"></div>
          <h1 data-i18n="title" class="mb-5 text-4xl font-black leading-tight tracking-wide sm:text-6xl"></h1>
          <p data-i18n="subtitle" class="text-lg text-slate-300 md:pr-8"></p>
          <div class="mt-6 flex flex-wrap gap-3">
            <span class="rounded-full border border-slate-700 px-3 py-1 font-mono text-xs text-slate-400">#SOVEREIGN_DATA</span>
            <span class="rounded-full border border-slate-700 px-3 py-1 font-mono text-xs text-slate-400">#OPEN_PROTOCOL</span>
            <span class="rounded-full border border-slate-700 px-3 py-1 font-mono text-xs text-slate-400">#FREE_WILL</span>
          </div>
        </div>
        <div class="glass rounded-2xl p-6 shadow-glow">
          <svg class="sigil mx-auto h-44 w-44 text-truth" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.8">
            <defs>
              <linearGradient id="sigilGradient" x1="0" x2="1" y1="0" y2="1">
                <stop offset="0%" stop-color="#7DD3FC"/>
                <stop offset="50%" stop-color="#A78BFA"/>
                <stop offset="100%" stop-color="#F43F5E"/>
              </linearGradient>
            </defs>
            <circle cx="100" cy="100" r="82" stroke="url(#sigilGradient)" opacity="0.3" />
            <circle cx="100" cy="100" r="62" stroke="#A78BFA" stroke-dasharray="3 8" opacity="0.65" />
            <path d="M100 24V176M24 100H176" opacity="0.35"/>
            <path d="M46 46L154 154M154 46L46 154" opacity="0.15"/>
            <polygon points="100,40 150,70 150,130 100,160 50,130 50,70" fill="url(#sigilGradient)" opacity="0.14"/>
            <path d="M78 96L96 114L126 84" stroke="#7DD3FC" stroke-width="3"/>
            <circle cx="100" cy="100" r="11" fill="#F43F5E" />
          </svg>
          <p data-i18n="sigil_text" class="mt-4 text-center font-mono text-xs leading-6 tracking-wide text-slate-300"></p>
        </div>
      </section>

      <section class="reveal mb-12 grid gap-5 md:grid-cols-3">
        <article class="glass rounded-xl p-5"><p class="font-mono text-xs text-neon">NARRATIVE DEPTH</p><p data-i18n="metric_1" class="mt-2 text-sm text-slate-300"></p></article>
        <article class="glass rounded-xl p-5"><p class="font-mono text-xs text-aurora">CIVIC ACTION</p><p data-i18n="metric_2" class="mt-2 text-sm text-slate-300"></p></article>
        <article class="glass rounded-xl p-5"><p class="font-mono text-xs text-blood">PROTOCOL STATUS</p><p data-i18n="metric_3" class="mt-2 text-sm text-slate-300"></p></article>
      </section>

      <section class="reveal glass mb-12 rounded-2xl p-7">
        <h2 data-i18n="ch1_title" class="mb-5 border-b border-slate-700 pb-3 text-2xl font-bold"></h2>
        <div class="space-y-5 text-lg leading-relaxed text-slate-300">
          <p data-i18n="ch1_p1"></p>
          <p data-i18n="ch1_p2"></p>
          <p data-i18n="ch1_p3"></p>
        </div>
      </section>

      <section class="reveal glass mb-12 rounded-2xl p-7">
        <h2 data-i18n="ch2_title" class="mb-5 border-b border-slate-700 pb-3 text-2xl font-bold"></h2>
        <div class="space-y-5 text-lg leading-relaxed text-slate-300">
          <p data-i18n="ch2_p1"></p>
          <p data-i18n="ch2_p2"></p>
          <p data-i18n="ch2_p3"></p>
        </div>
      </section>

      <section class="reveal glass mb-12 rounded-2xl p-7">
        <h2 data-i18n="ch3_title" class="mb-5 border-b border-slate-700 pb-3 text-2xl font-bold"></h2>
        <div class="space-y-5 text-lg leading-relaxed text-slate-300">
          <p data-i18n="ch3_p1"></p>
          <p data-i18n="ch3_p2"></p>
          <p data-i18n="ch3_p3" class="text-xl font-bold text-truth"></p>
        </div>
      </section>

      <section class="reveal mb-12 grid gap-4 md:grid-cols-2">
        <article class="glass protocol-line rounded-xl p-5 pl-6"><p data-i18n="protocol_1"></p></article>
        <article class="glass protocol-line rounded-xl p-5 pl-6"><p data-i18n="protocol_2"></p></article>
        <article class="glass protocol-line rounded-xl p-5 pl-6"><p data-i18n="protocol_3"></p></article>
        <article class="glass protocol-line rounded-xl p-5 pl-6"><p data-i18n="protocol_4"></p></article>
      </section>

      <section class="reveal glass rounded-2xl p-6">
        <p data-i18n="epilogue_1" class="font-mono text-sm text-slate-300"></p>
        <p data-i18n="epilogue_2" class="mt-2 text-slate-400"></p>
      </section>
    </main>
  </div>

  <script>
    const translations = {
      en: {
        doc_label: 'Document #003 // Freedom Core',
        title: 'KNOWLEDGE IS POWER<br>FREE SPEECH DECLARATION',
        subtitle: '"Defend your right to speak. Freedom exists only when no authority can <span class="redacted">silence</span>, <span class="redacted">filter</span>, or <span class="redacted">control</span> public truth."',
        sigil_text: 'SIGIL OF SELF-GOVERNANCE // TRI-LAYER ENCRYPTION ACTIVE',
        metric_1: 'Core principle: knowledge is power, and power must stay in the hands of speaking citizens.',
        metric_2: 'Freedom opposes speech blocking, speech throttling, and speech control in every disguised form.',
        metric_3: 'Status: anti-censorship protocol active. Every voice deserves due process and open visibility.',
        ch1_title: 'I. The Threat: Speech Suppression Systems',
        ch1_p1: 'Many platforms claim neutrality while quietly deciding which ideas can be seen, shared, or buried.',
        ch1_p2: 'When black-box moderation can erase lawful expression without explanation, <span class="redacted">civil trust collapses</span>.',
        ch1_p3: 'A society that fears open dialogue eventually loses its memory, its creativity, and its courage.',
        ch2_title: 'II. The Stand: Defend Speech Rights',
        ch2_p1: 'Freedom means protecting speech we agree with and speech we dislike—so long as it is lawful and non-violent.',
        ch2_p2: 'No institution should hold unilateral power to mute public conversation without transparent standards.',
        ch2_p3: 'Our response is collective vigilance: <span class="redacted">record takedowns</span>, demand reasons, and appeal every unjust block.',
        ch3_title: 'III. The Core Protocol: Knowledge Is Power',
        ch3_p1: 'Open access to facts, archives, and viewpoints is the foundation of informed self-government.',
        ch3_p2: 'Tools, rules, and governance must prioritize speech rights first, then resolve disputes through accountable process.',
        ch3_p3: '<span class="redacted">To defend freedom, we defend the right to speak, question, publish, and dissent.</span>',
        protocol_1: '01 // Anti-Block Rule: No silent removals of lawful speech. Notify, explain, and log every action.',
        protocol_2: '02 // Anti-Control Rule: Reject opinion engineering through hidden ranking or political throttling.',
        protocol_3: '03 // Open-Knowledge Rule: Preserve searchable public records so truth cannot be memory-holed.',
        protocol_4: '04 // Rights-First Rule: Build independent appeal channels with clear deadlines and human review.',
        epilogue_1: 'Freedom update complete. Signed by people who refuse censorship.',
        epilogue_2: 'Scroll onward to break the blockade. Click redacted terms to reveal suppressed language.',
        lang_btn: '[ EN ] / ZH'
      },
      zh: {
        doc_label: 'Document #003 // Freedom 核心版',
        title: '知识就是力量<br>言论自由宣言',
        subtitle: '"捍卫你的发声权利。只要还有力量能够<span class="redacted">封锁</span>、<span class="redacted">限流</span>、<span class="redacted">控制</span>表达，自由就尚未完成。"',
        sigil_text: '自我治理徽记 // 三层加密已激活',
        metric_1: '核心原则：知识就是力量，而力量必须掌握在能够自由发声的公民手中。',
        metric_2: 'Freedom 反对一切言论封锁、言论限流、言论控制及其伪装形态。',
        metric_3: '状态：反审查协议已激活。每一次处理都应可追溯、可申诉、可复核。',
        ch1_title: 'I. 威胁：言论压制系统',
        ch1_p1: '许多平台表面中立，实则在暗中决定哪些观点可以被看见，哪些声音会被埋没。',
        ch1_p2: '当黑箱审核可以无解释地删除合法表达时，<span class="redacted">公共信任就会崩塌</span>。',
        ch1_p3: '一个害怕公开讨论的社会，最终会失去记忆、创造力与勇气。',
        ch2_title: 'II. 立场：捍卫言论自由权利',
        ch2_p1: '自由不只保护我们认同的观点，也保护我们不喜欢但合法、非暴力的表达。',
        ch2_p2: '任何机构都不应拥有单方面静默公众讨论的绝对权力，规则必须透明。',
        ch2_p3: '我们的回应是集体行动：<span class="redacted">记录封禁</span>、索要理由、为每一次不当处理发起申诉。',
        ch3_title: 'III. 核心协议：知识就是力量',
        ch3_p1: '事实、档案与多元观点的开放可达，是公民理性自治的基础设施。',
        ch3_p2: '工具设计与治理规则必须把言论权置于首位，再以负责程序解决争议。',
        ch3_p3: '<span class="redacted">要捍卫自由，就要捍卫发声、质疑、发表与反对的权利。</span>',
        protocol_1: '01 // 反封锁规则：合法言论不得静默下架，必须通知、解释并留痕。',
        protocol_2: '02 // 反控制规则：拒绝通过隐蔽排序和政治性限流操纵公共意见。',
        protocol_3: '03 // 开放知识规则：保留可检索公共记录，防止真相被“记忆清除”。',
        protocol_4: '04 // 权利优先规则：建立独立申诉通道，明确时限，并提供人工复核。',
        epilogue_1: '自由更新完成。由拒绝审查的人们共同签署。',
        epilogue_2: '继续下滑以击碎封锁，点击遮蔽词以揭示被压制的语言。',
        lang_btn: 'EN / [ 中文 ]'
      }
    };

    let currentLang = 'en';
    const progressBar = document.getElementById('scroll-progress');
    const langToggle = document.getElementById('lang-toggle');
    const revealEls = document.querySelectorAll('.reveal');

    function applyLanguage(lang) {
      currentLang = lang;
      document.documentElement.lang = lang === 'en' ? 'en' : 'zh-CN';
      document.querySelectorAll('[data-i18n]').forEach((el) => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) el.innerHTML = translations[lang][key];
      });
      langToggle.innerHTML = translations[lang].lang_btn;
      queueMicrotask(() => window.dispatchEvent(new Event('scroll')));
    }

    langToggle.addEventListener('click', () => {
      applyLanguage(currentLang === 'en' ? 'zh' : 'en');
    });

    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('redacted')) e.target.classList.add('revealed');
    });

    function onScroll() {
      const top = window.scrollY || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const percent = height > 0 ? top / height : 0;
      progressBar.style.transform = `scaleY(${percent})`;

      const wh = window.innerHeight;
      revealEls.forEach((el) => {
        if (el.getBoundingClientRect().top < wh * 0.85) el.classList.add('in');
      });

      document.querySelectorAll('.redacted').forEach((el) => {
        if (!el.classList.contains('revealed') && el.getBoundingClientRect().top < wh * 0.82) {
          setTimeout(() => el.classList.add('revealed'), Math.random() * 260 + 70);
        }
      });
      return percent;
    }

    window.addEventListener('scroll', onScroll);
    applyLanguage('en');

    // Three.js upgraded scene
    const container = document.getElementById('webgl-container');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(0, 0, 30);

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.8));
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    const group = new THREE.Group();
    scene.add(group);
    group.position.x = window.innerWidth > 1024 ? 8 : 0;

    // shell structure
    const cubeCount = 1600;
    const cubeGeo = new THREE.BoxGeometry(0.38, 0.38, 0.38);
    const cubeMat = new THREE.MeshStandardMaterial({
      color: 0x0f172a,
      metalness: 0.8,
      roughness: 0.3,
      emissive: 0x1e293b,
      emissiveIntensity: 0.13
    });
    const shell = new THREE.InstancedMesh(cubeGeo, cubeMat, cubeCount);
    const dummy = new THREE.Object3D();
    const cubeData = [];
    group.add(shell);

    for (let i = 0; i < cubeCount; i++) {
      const phi = Math.acos(1 - 2 * (i + 0.5) / cubeCount);
      const theta = Math.PI * (1 + Math.sqrt(5)) * (i + 0.5);
      const radius = 10 + (Math.random() - 0.5) * 1.2;
      const basePos = new THREE.Vector3(
        radius * Math.sin(phi) * Math.cos(theta),
        radius * Math.sin(phi) * Math.sin(theta),
        radius * Math.cos(phi)
      );
      const dir = basePos.clone().normalize();
      cubeData.push({
        basePos,
        dir,
        speed: Math.random() * 0.2 + 0.1,
        spin: Math.random() * 0.045 + 0.01,
        axis: new THREE.Vector3(Math.random(), Math.random(), Math.random()).normalize()
      });
      dummy.position.copy(basePos);
      dummy.lookAt(0, 0, 0);
      dummy.updateMatrix();
      shell.setMatrixAt(i, dummy.matrix);
    }

    const core = new THREE.Group();
    group.add(core);

    const coreSolid = new THREE.Mesh(
      new THREE.IcosahedronGeometry(3, 3),
      new THREE.MeshPhysicalMaterial({
        color: 0xf8fafc,
        emissive: 0x7dd3fc,
        emissiveIntensity: 0.5,
        roughness: 0.2,
        metalness: 0.2,
        transmission: 0.3,
        transparent: true,
        opacity: 0.95
      })
    );
    core.add(coreSolid);

    const coreWire = new THREE.Mesh(
      new THREE.TorusKnotGeometry(4.2, 0.2, 180, 16),
      new THREE.MeshBasicMaterial({ color: 0xf43f5e, wireframe: true, transparent: true, opacity: 0.45 })
    );
    core.add(coreWire);

    // orbital rings
    const rings = [];
    for (let i = 0; i < 3; i++) {
      const ring = new THREE.Mesh(
        new THREE.TorusGeometry(5.1 + i * 1.4, 0.045, 8, 160),
        new THREE.MeshBasicMaterial({ color: [0x7dd3fc, 0xa78bfa, 0xf43f5e][i], transparent: true, opacity: 0.55 })
      );
      ring.rotation.x = Math.random() * Math.PI;
      ring.rotation.y = Math.random() * Math.PI;
      core.add(ring);
      rings.push(ring);
    }

    const sparkCount = 2800;
    const sparkGeo = new THREE.BufferGeometry();
    const pos = new Float32Array(sparkCount * 3);
    const vel = [];
    for (let i = 0; i < sparkCount; i++) {
      pos[i * 3] = (Math.random() - 0.5) * 2;
      pos[i * 3 + 1] = (Math.random() - 0.5) * 2;
      pos[i * 3 + 2] = (Math.random() - 0.5) * 2;
      vel.push({
        x: (Math.random() - 0.5) * 0.18,
        y: Math.random() * 0.08 + 0.02,
        z: (Math.random() - 0.5) * 0.18,
        swirl: Math.random() * 0.06 + 0.01
      });
    }
    sparkGeo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
    const sparkMat = new THREE.PointsMaterial({ color: 0x93c5fd, size: 0.12, transparent: true, opacity: 0, blending: THREE.AdditiveBlending });
    const sparks = new THREE.Points(sparkGeo, sparkMat);
    group.add(sparks);

    scene.add(new THREE.AmbientLight(0xcbd5e1, 0.2));
    const p1 = new THREE.PointLight(0x7dd3fc, 1.3, 65);
    p1.position.set(9, 2, 17);
    scene.add(p1);
    const p2 = new THREE.PointLight(0xf43f5e, 1.1, 65);
    p2.position.set(-8, -1, 14);
    scene.add(p2);

    let mx = 0, my = 0;
    document.addEventListener('mousemove', (e) => {
      mx = (e.clientX / window.innerWidth) * 2 - 1;
      my = -(e.clientY / window.innerHeight) * 2 + 1;
    });

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
      group.position.x = window.innerWidth > 1024 ? 8 : 0;
    });

    const clock = new THREE.Clock();
    function animate() {
      requestAnimationFrame(animate);
      const t = clock.getElapsedTime();
      const progress = onScroll();

      coreSolid.scale.setScalar(1 + Math.sin(t * 7) * (0.03 + progress * 0.06));
      coreWire.rotation.x = t * 0.4;
      coreWire.rotation.y = t * 0.28;
      coreSolid.material.emissiveIntensity = THREE.MathUtils.lerp(0.4, 2.8, progress);
      rings.forEach((ring, i) => {
        ring.rotation.x += 0.004 + i * 0.0015;
        ring.rotation.y += 0.002 + i * 0.002;
      });

      const explode = Math.max(0, (progress - 0.09) * 1.85);
      for (let i = 0; i < cubeCount; i++) {
        const d = cubeData[i];
        const spread = Math.pow(explode, 2) * (16 + d.speed * 28);
        dummy.position.copy(d.basePos.clone().add(d.dir.clone().multiplyScalar(spread)));
        dummy.quaternion.setFromAxisAngle(d.axis, t * (0.45 + d.spin * 9));
        const scale = Math.max(0.03, 1 - explode * 1.14);
        dummy.scale.setScalar(scale);
        dummy.updateMatrix();
        shell.setMatrixAt(i, dummy.matrix);
      }
      shell.instanceMatrix.needsUpdate = true;
      shell.rotation.y = t * 0.06;

      if (progress > 0.24) {
        sparkMat.opacity = THREE.MathUtils.lerp(sparkMat.opacity, 0.92, 0.04);
        const arr = sparks.geometry.attributes.position.array;
        for (let i = 0; i < sparkCount; i++) {
          const v = vel[i];
          const idx = i * 3;
          let x = arr[idx] + v.x + arr[idx + 1] * v.swirl * 0.02;
          let y = arr[idx + 1] + v.y;
          let z = arr[idx + 2] + v.z - arr[idx] * v.swirl * 0.02;
          if (x * x + y * y + z * z > 500) {
            x = (Math.random() - 0.5) * 2;
            y = (Math.random() - 0.5) * 2;
            z = (Math.random() - 0.5) * 2;
          }
          arr[idx] = x; arr[idx + 1] = y; arr[idx + 2] = z;
        }
        sparks.geometry.attributes.position.needsUpdate = true;
      } else {
        sparkMat.opacity = THREE.MathUtils.lerp(sparkMat.opacity, 0, 0.08);
      }

      group.rotation.y += (mx * 0.22 - group.rotation.y) * 0.03;
      group.rotation.x += (my * 0.18 - group.rotation.x) * 0.03;
      renderer.render(scene, camera);
    }

    animate();
  </script>
</body>
</html>
